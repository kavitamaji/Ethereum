{"version":3,"file":"static/webpack/static\\development\\pages\\trustfunds\\requests.js.d0aa0556b695d0067c8b.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React , {Component} from 'react';\r\nimport {Table , Button} from 'semantic-ui-react';\r\nimport web3 from '../ethereum/web3';\r\nimport Trustfund from '../ethereum/trustfund';\r\n\r\nclass RequestRow extends Component{\r\n  onApprove = async () => {\r\n    const accounts = await web3.eth.getAccounts();\r\n    const trustfund = Trustfund(this.props.address);\r\n    await trustfund.methods.approveRequest(this.props.id).send({\r\n      from: accounts[0]\r\n    });\r\n  };\r\n\r\n  onFinalize = async() => {\r\n    const accounts = await web3.eth.getAccounts();\r\n    const trustfund = Trustfund(this.props.address);\r\n    await trustfund.methods.finalizeRequest(this.props.id).send({\r\n      from: accounts[0]\r\n    });\r\n  };\r\n  render(){\r\n    const {Row, Cell} = Table;\r\n    const {id, request, approversCount} = this.props;\r\n    const readyToFinalize = request.approvalCount > approversCount/2;\r\n    return(\r\n       <Row disabled={request.complete}>\r\n        <Cell>{id}</Cell>\r\n        <Cell>{request.description}</Cell>\r\n        <Cell>{web3.utils.fromWei(request.value, 'ether')}</Cell>\r\n        <Cell>{request.recipient}</Cell>\r\n        <Cell>{request.approvalCount}/{approversCount}</Cell>\r\n        <Cell>\r\n        {request.complete ? null : (\r\n          <Button color=\"green\" basic onClick={this.onApprove}>Approve</Button>\r\n          )}\r\n        </Cell>\r\n        <Cell>\r\n        {request.complete ? null : (\r\n          <Button color=\"teal\" basic onClick={this.onFinalize}>Finalize</Button>\r\n            )}\r\n        </Cell>\r\n          </Row>\r\n        );\r\n  }\r\n}\r\nexport default RequestRow;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AAIA;AADA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAQA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAKA;;;;AAvCA;AACA;AAwCA;;;;A","sourceRoot":""}