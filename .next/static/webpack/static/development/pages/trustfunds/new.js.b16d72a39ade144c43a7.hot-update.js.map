{"version":3,"file":"static/webpack/static\\development\\pages\\trustfunds\\new.js.b16d72a39ade144c43a7.hot-update.js","sources":["webpack:///./pages/trustfunds/new.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Form, Button, Input, Message} from 'semantic-ui-react';\r\nimport Layout from '../../components/Layout';\r\nimport corporation from '../../ethereum/corporation';\r\nimport web3 from '../../ethereum/web3';\r\n\r\nclass TrustfundNew extends Component{\r\n  state={\r\n    minimumContribution:'',\r\n    errorMessage:'',\r\n    loading: false\r\n  };\r\n  onSubmit = async (event) =>{\r\n    event.preventDefault();//stop browser from submitting to backend server\r\n    this.setState({loading: true});\r\n    try{\r\n      const accounts = await web3.eth.getAccounts();\r\n      await corporation.methods\r\n      .createTrustfund(this.state.minimumContribution)\r\n      .send({\r\n          from: accounts[0]\r\n          });\r\n      } catch (err){\r\n        this.setState({errorMessage: err.message});\r\n    }\r\n    this.setState({loading: false});\r\n  };\r\n  //!!this.state.errorMessage}>inverse of boolean of string\r\n  render(){\r\n    return (\r\n<Layout>\r\n       <h3>Create a new Trust fund </h3>\r\n       <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\r\n             <Form.Field>\r\n               <label>Minimum Contribution</label>\r\n               <Input\r\n               label=\"wei\"\r\n               labelPosition=\"right\"\r\n               value={this.state.minimumContribution}\r\n               onChange={event => this.setState({minimumContribution : event.target.value})}\r\n               />\r\n             </Form.Field>\r\n             <Message error header=\"Something went wrong\" content={this.state.errorMessage}/>\r\n             <Button primary>Create</Button>\r\n           </Form>\r\n</Layout>\r\n     );\r\n  }\r\n}\r\nexport default TrustfundNew\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AAQA;AADA;AACA;AARA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAUA;AAAA;AAAA;AACA;AAZA;AAaA;AAAA;AAAA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAcA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAzCA;AACA;AA0CA;;;;A","sourceRoot":""}